<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>s21_3DViewer: 3DViewer v1.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">s21_3DViewer
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">3DViewer v1.0 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__Users_meine_Desktop_Sber21_C8_3DViewer_v1_0_1_README_RUS"></a> </p><blockquote class="doxtable">
<p>&zwj;При старте работы над проектом просим вас постараться хронометрировать время работы над проектом. По завершении работы над проектом просим вас ответить на два вопроса <a href="https://forms.gle/51aADrXJGHYH9jEi6">в этом опросе</a> </p>
</blockquote>
<p>Разработать программу 3DViewer v1.0.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Contents</h1>
<p>0. Preamble</p><ol type="1">
<li>Chapter I \ 1.1. Introduction</li>
<li>Chapter II \ 2.1. Information</li>
<li>Chapter III \ 3.1. Part 1 \ 3.2. Part 2 \ 3.3. Part 3 <br  />
</li>
</ol>
<h1><a class="anchor" id="autotoc_md2"></a>
Preamble</h1>
<p><img src="misc/images/3dviewer.png" alt="3DViewer" class="inline"/></p>
<p>Где-то около кулера с водой в 90-ом:</p>
<p><em>&ndash; Мы не можем сделать мультфильм про животных</em></p>
<p><em>- Почему? Черт возьми, Джон, твоя Оловянная игрушка произвела фурор! Ты представь, что будет, когда мир увидит что-нибудь вроде ста одного далматинца, но только в 3d!</em></p>
<p><em>&ndash; В этом то вся и проблема. Вычислительных мощностей пока что недостаточно для того, чтобы анимировать сложные объекты. Животным пока придется подождать, смоделировать их шерсть не представляется возможным. Либо это будет мультфильм про лысых животных. Нужно выждать несколько лет, пока закон Мура отработает свое.</em></p>
<p><em>- Ну хорошо, а что насчет людей? Почему мы не можем сделать мультик про людей?</em></p>
<p><em>&ndash; Можем, но разве что ужастик, потому что их лица будут выглядеть примерно также, как сейчас выглядит твое, пытающееся убедить меня совершить роковую ошибку.</em></p>
<p>Вы поняли, что аргументы Лассетера слишком убедительны, чтобы с ними спорить.</p>
<p><em>- Ладно, допустим, ты прав. Но какой тогда мультфильм нам делать?</em></p>
<p><em>- Все просто, друг мой. Это будет мультфильм про игрушки, как короткометражка, что принесла нам "Оскар". Природная форма игрушек отлично подойдет под low-полигональные 3d-модели, которые мы способны анимировать. И скудная мимика не станет критичной, это же ведь игрушки. Да и сюжетик на примете уже имеется.. Оживим их! И построим сюжет на взаимоотношении игрушек и ребенка.</em></p>
<p><em>- Звучит заманчиво!</em></p>
<p><em>&ndash; Так и есть. Тебе следует как можно скорее пойти к своей команде и заняться разработкой ПО для 3d-моделирования. Если хотим сделать этот мультик, нам нужны свои собственные программные средства. То, что есть на рынке, позволит анимировать разве что деревянную пирамиду, да и ту в форме куба.</em></p>
<p><em>- Хорошо. Сперва займемся самым главным - экраном предпросмотра.</em></p>
<p><em>&ndash; Удачи!</em></p>
<p>В распоряжении Pixar было более 100 компьютеров, которые занимались рендерингом 3d-сцен. Осознав потенциал таких мощностей вы произносите вдохновляющую речь перед своей командой, восхваляющую технологии 3d-визуализации и быстро беретесь за работу! Планируемому мультику суждено войти в историю..</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Chapter I</h1>
<h1><a class="anchor" id="autotoc_md4"></a>
Introduction</h1>
<p>В данном проекте Вам предстоит реализовать на языке программирования Си программу для просмотра 3D моделей в каркасном виде (3D Viewer). Сами модели необходимо загружать из файлов формата .obj и иметь возможность просматривать их на экране с возможностью вращения, масштабирования и перемещения.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Chapter II</h1>
<h1><a class="anchor" id="autotoc_md6"></a>
Information</h1>
<p>Каркасная модель - модель объекта в трёхмерной графике, представляющая собой совокупность вершин и рёбер, которая определяет форму отображаемого многогранного объекта в трехмерном пространстве.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Напоминание о структурном подходе</h2>
<p>В основе структурного подхода к программированию лежит два базовых принципа:</p><ul>
<li>принцип "разделяй и властвуй" (декомпозиция) - принцип решения сложных проблем путем их разбиения на множество меньших независимых задач, простых для понимания и решения. Причем при решении небольших задач исключается дублирование кода, а сами их решения при необходимости переиспользуются;</li>
<li>принцип иерархического упорядочивания - принцип организации составных частей проблемы в иерархические древовидные структуры с добавлением новых деталей на каждом уровне (от верхнего уровня с одной точкой входа, до нижних с конкретными структурами данных и реализациями). То есть на одном и том же уровне не должно быть выполнения вычислений и операций ввода-вывода.</li>
</ul>
<p>Таким образом при использовании структурного стиля получается, что программа строится в виде "слоеного пирога" сверху вниз. Ошибки генерируются на нижних уровнях и прокидываются на самый верх, где выводятся пользователю.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Формат представления описаний трехмерных объектов .obj</h2>
<p>Файлы .obj - это формат файла описания геометрии, впервые разработанный компанией Wavefront Technologies. Формат файла открыт и принят многими поставщиками приложений для 3D-графики.</p>
<p>Формат файла .obj - это простой формат данных, который представляет только трехмерную геометрию, а именно положение каждой вершины, положение UV координат текстуры каждой вершины, нормали вершин и грани, которые определяют каждый многоугольник как список вершин и вершин текстуры. Координаты obj не имеют единиц измерения, но файлы obj могут содержать информацию о масштабе в удобочитаемой строке комментариев.</p>
<p>Пример файла формата .obj: </p><div class="fragment"><div class="line"># Список вершин, с координатами (x, y, z[, w]), w является не обязательным и по умолчанию равен 1.0</div>
<div class="line">v 0.123 0.234 0.345 1.0</div>
<div class="line">v ...</div>
<div class="line">...</div>
<div class="line"># Текстурные координаты (u, v[, w]), w является не обязательным и по умолчанию 0</div>
<div class="line">vt 0.500 -1.352 [0.234]</div>
<div class="line">vt ...</div>
<div class="line">...</div>
<div class="line"># Нормали (x, y, z)</div>
<div class="line">vn 0.707 0.000 0.707</div>
<div class="line">vn ...</div>
<div class="line">...</div>
<div class="line"># Параметры вершин в пространстве (u[, v][, w])</div>
<div class="line">vp 0.310000 3.210000 2.100000</div>
<div class="line">vp ...</div>
<div class="line">...</div>
<div class="line"># Определения поверхности (сторон)</div>
<div class="line">f v1 v2 v3</div>
<div class="line">f ...</div>
<div class="line">...</div>
<div class="line"># Группа</div>
<div class="line">g Group1</div>
<div class="line">...</div>
<div class="line"># Объект</div>
<div class="line">o Object1</div>
</div><!-- fragment --><p>В данном проекте Вам будет достаточно реализовать поддержку списка вершин и поверхностей. Все остальное - не является обязательным.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Аффинные преобразования</h2>
<p>В данном разделе будут описаны базовые аффинные преобразования (перемещение, поворот, масштабирование) на плоскости на примере двумерных объектов (изображений). Аналогичным образом можно использовать аффинные преобразования и в случае трехмерного пространства.</p>
<p>Аффинное преобразование - отображение плоскости или пространства в себя, при котором параллельные прямые переходят в параллельные прямые, пересекающиеся — в пересекающиеся, скрещивающиеся — в скрещивающиеся. \ Преобразование плоскости называется аффинным если оно взаимно однозначно и образом любой прямой является прямая. Преобразование (отображение) называется взаимно однозначным (биективным), если оно переводит разные точки в разные, и в каждую точку переходит какая-то точка.</p>
<p>С алгебраической точки зрения аффинное преобразование это преобразование вида: <em>f(x) = M * x + v</em>, где <em>M</em> - некая обратимая матрица, а <em>v</em> - какое-то значение.</p>
<p>Свойства аффинных преобразований:</p><ul>
<li>Композиция аффинных преобразований есть снова аффинное преобразование.</li>
<li>Преобразование, обратное к аффинному, есть снова аффинное преобразование.</li>
<li>Отношение площадей сохраняется.</li>
<li>Отношение длин отрезков на прямой сохраняется.</li>
</ul>
<h3><a class="anchor" id="autotoc_md10"></a>
Перемещение</h3>
<p>Матрица перемещения в однородных двумерных координатах: </p><div class="fragment"><div class="line">1 0 a</div>
<div class="line">0 1 b</div>
<div class="line">0 0 1</div>
</div><!-- fragment --><p>где <em>a</em> и <em>b</em> - величины по <em>x</em> и <em>y</em>, на которые необходимо переместить исходную точку. Таким образом, чтобы переместить точку необходимо умножить матрицу перемещения на нее: </p><div class="fragment"><div class="line">x1     1 0 a     x </div>
<div class="line">y1  =  0 1 b  *  y</div>
<div class="line">1      0 0 1     1</div>
</div><!-- fragment --><p>где <em>x</em> и <em>y</em> - исходные координаты точки, а <em>x1</em> и <em>y1</em> - полученные координаты новой точки после перемещения.</p>
<h3><a class="anchor" id="autotoc_md11"></a>
Поворот</h3>
<p>Матрица поворота по часовой стрелке в однородных двумерных координатах: </p><div class="fragment"><div class="line">cos(a)  sin(a) 0</div>
<div class="line">-sin(a) cos(a) 0</div>
<div class="line">0       0      1</div>
</div><!-- fragment --><p>где <em>a</em> - угол поворота в двумерном пространстве. Для получения координат новой точки необходимо также, как и матрицу перемещения, перемножить матрицу поворота на исходную точку: </p><div class="fragment"><div class="line">x1     cos(a)  sin(a) 0     x </div>
<div class="line">y1  =  -sin(a) cos(a) 0  *  y</div>
<div class="line">1      0       0      1     1</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12"></a>
Масштабирование</h3>
<p>Матрица масштабирования в однородных двумерных координатах: </p><div class="fragment"><div class="line">a 0 0</div>
<div class="line">0 b 0</div>
<div class="line">0 0 1</div>
</div><!-- fragment --><p>где <em>a</em> и <em>b</em> - коэффициенты масштабирования соответственно по осям OX и OY. Получение координат новой точки происходит аналогично описанным выше случаям.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Chapter III</h1>
<h1><a class="anchor" id="autotoc_md14"></a>
Part 1. 3DViewer</h1>
<p>Разработать программу для визуализации каркасной модели в трехмерном пространстве:</p>
<ul>
<li>Программа должна быть разработана на языке Си стандарта C11 с использованием компилятора gcc. Допустимо использование дополнительных библиотек и модулей QT</li>
<li>Код программы должен находиться в папке src</li>
<li>Сборка программы должна быть настроена с помощью Makefile со стандартным набором целей для GNU-программ: all, install, uninstall, clean, dvi, dist, tests, gcov_report. Установка должна вестись в любой другой произвольный каталог</li>
<li>Программа должна быть разработана в соответствии с принципами структурного программирования</li>
<li>При написании кода необходимо придерживаться Google Style</li>
<li>Должно быть обеспечено покрытие unit-тестами модулей, связанных с загрузкой моделей и аффинными преобразованиями</li>
<li>В один момент времени должна быть только одна модель на экране.</li>
<li>Программа должна предоставлять возможность:<ul>
<li>Загружать каркасную модель из файла формата obj (поддержка только списка вершин и поверхностей).</li>
<li>Перемещать модель на заданное расстояние относительно осей X, Y, Z.</li>
<li>Поворачивать модель на заданный угол относительно своих осей X, Y, Z</li>
<li>Масштабировать модель на заданное значение.</li>
</ul>
</li>
<li>В программе должен быть реализован графический пользовательский интерфейс, на базе любой GUI-библиотеки с API для C89/C99/C11 <br  />
<ul>
<li>For Linix: GTK+, CEF, Qt<br  />
</li>
<li>For Mac: GTK+, Nuklear, raygui, microui, libagar, libui, IUP, LCUI, CEF, Qt</li>
</ul>
</li>
<li>Графический пользовательский интерфейс должен содержать:<ul>
<li>Кнопку для выбора файла с моделью и поле для вывода его названия.</li>
<li>Зону визуализации каркасной модели.</li>
<li>Кнопку/кнопки и поля ввода для перемещения модели.</li>
<li>Кнопку/кнопки и поля ввода для поворота модели.</li>
<li>Кнопку/кнопки и поля ввода для масштабирования модели. <br  />
</li>
<li>Информацию о загруженной модели - название файла, кол-во вершин и ребер.</li>
</ul>
</li>
<li>Программа должна корректно обрабатывать и позволять пользователю просматривать модели с деталями до 100, 1000, 10 000, 100 000, 1 000 000 вершин без зависания (зависание - это бездействие интерфейса более 0,5 секунды).</li>
</ul>
<p><em>Замечание:</em> <b>Не загружайте тяжелые файлы (&gt;10 мб) в гит.</b></p>
<h1><a class="anchor" id="autotoc_md15"></a>
Part 2. Дополнительно. Настройки</h1>
<ul>
<li>Программа должна позволять настраивать тип проекции (параллельная и центральная)</li>
<li>Программа должна позволять настраивать тип (сплошная, пунктирная), цвет и толщину ребер, способ отображения (отсутствует, круг, квадрат), цвет и размер вершин</li>
<li>Программа должна позволять выбирать цвет фона</li>
<li>Настройки должны сохраняться между перезапусками программы</li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
Part 3. Дополнительно. Запись</h1>
<ul>
<li>Программа должна позволять сохранять полученные ("отрендеренные") изображения в файл в форматах bmp и jpeg</li>
<li>Программа должна позволять по специальной кнопке записывать небольшие "скринкасты" - текущие пользовательские аффинные преобразования загруженного объекта в gif-анимацию (640x480, 10fps, 5s)</li>
</ul>
<p>💡 <a href="https://forms.yandex.ru/cloud/641815b8e010db24ff2687a4/">Нажми тут</a>**, чтобы поделиться с нами обратной связью на этот проект**. Это анонимно и поможет команде Педаго сделать твоё обучение лучше. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Создано системой&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
